"0","#| label: fig-distribution-over-countries-percentage"
"0","#| fig-cap: ""Movie & TV Shows distribution over countries in %"""
"0",""
"0","df_to_display <- df_split %>%"
"0","  inner_join(df_country_data_display, by = ""country"") %>%"
"0","  group_by(country) %>%"
"0","  count(type)"
"0",""
"0",""
"0","df_to_display <- df_to_display %>%"
"0","  group_by(country) %>%"
"0","  mutate(total = sum(n))"
"0","  "
"0","df_to_display <- df_to_display %>%"
"0","  group_by(country) %>%"
"0","  mutate(perc = round((n/total *100),1))"
"0",""
"0",""
"0","ggplot(df_to_display, aes(fill=type, x=perc, y=country)) + "
"0","  geom_bar(position=""fill"", stat=""identity"") +"
"0","  geom_text(aes(label = paste0(perc, ""%"")), position = position_fill(vjust = 0.5), color = ""white"", size = 3) +"
"0","  labs(title = ""Percentage of Movies and TV Shows by Country"","
"0","       x = ""Percentage"","
"0","       y = ""Countries"","
"0","       fill = ""Type"") +"
"0","  scale_fill_manual(values = custom_colors) +"
"0","  theme_minimal() +"
"0","  theme(axis.text.x = element_blank(),  # Remove x-axis labels"
"0","        axis.ticks.x = element_blank())  # Remove x-axis ticks"
"0",""
